<section data-ng-controller="ForumCategoriesController" data-ng-init="findOne()">
    <div class="raw clearfix">
        <div class="page-header">
            <h1 data-ng-bind="forumCategory.name"></h1>
        </div>
        <div class="pull-right"
             data-ng-show="((authentication.user) && (authentication.user._id == forumCategory.user._id || authentication.user.roles.indexOf('admin') !== -1))">
            <a class="btn btn-primary" href="/#!/forum-categories/{{forumCategory._id}}/edit">
                <i class="glyphicon glyphicon-edit"></i>
            </a>
            <a class="btn btn-primary" data-ng-click="remove(forumCategory);">
                <i class="glyphicon glyphicon-trash"></i>
            </a>
        </div>
        <small>
            <em class="text-muted">
                {{ 'Posted on' | translate }}
                <span data-ng-bind="forumCategory.created | date:'mediumDate'"></span>
                 {{ 'by' | translate }}
                <span data-ng-bind="forumCategory.user.displayName"></span>
            </em>
        </small>
    </div>
    <div class="raw clearfix" data-ng-show="forumCategory.main && forumCategory.subCategories.length > 0">
        <div class="page-header">
            <h1>{{forumCategory.name}} {{ 'sub-categories' | translate }}</h1>
        </div>
        <div class="list-group">
            <a data-ng-repeat="forumSubCategory in forumCategory.subCategories" data-ng-href="#!/forum-categories/{{forumSubCategory._id}}" class="list-group-item">
                <small class="list-group-item-text">
                    {{ 'Posted on' | translate }}
                    <span data-ng-bind="forumSubCategory.created | date:'medium'"></span>
                     {{ 'by' | translate }}
                    <span data-ng-bind="forumSubCategory.user.displayName"></span>
                </small>
                <h4 class="list-group-item-heading" data-ng-bind="forumSubCategory.name"></h4>
            </a>
        </div>
    </div>
    <div class="raw clearfix">
        <div class="page-header">
            <h1>
                {{forumCategory.name}} {{ 'threads' | translate }}
                <a class="btn btn-primary pull-right" href="/#!/forum-threads/create/{{forumCategory._id}}">
                    <i class="glyphicon glyphicon-plus"></i>
                </a>
            </h1>
        </div>
    </div>
    <div class="raw clearfix">
        <div class="list-group">
            <a data-ng-repeat="forumThread in forumCategory.threads" data-ng-href="#!/forum-threads/{{forumThread._id}}"
               class="list-group-item">
                <small class="list-group-item-text">
                    {{ 'Posted on' | translate }}
                    <span data-ng-bind="forumThread.created | date:'medium'"></span>
                     {{ 'by' | translate }}
                    <span data-ng-bind="forumThread.user.displayName"></span>
                </small>
                <h4 class="list-group-item-heading" data-ng-bind="forumThread.name"></h4>
            </a>
        </div>
    </div>
</section>
